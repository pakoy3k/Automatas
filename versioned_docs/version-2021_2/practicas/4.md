---
marp: true
---
# Pr치ctica 4 (6/10)
---
## Orden del d칤a
---
## Qu칠 es una Gram치tica
1. Conjunto de s칤mbolos terminales $T$ (`if`, `int`, `{` ... )
2. Conjunto de s칤mbolos **no** terminales $V$ (`IfStmt`, `VarDecl`, `BlockExpr`)
3. Conjunto de producciones $P$ (`BlockExpr -> { CompoundStmt }`)
4. Un s칤mbolo inicial $S$

Gram치tica: $G=(V,T,P,S)$

Referencia tokens no terminales de C: [aqu칤](https://clang.llvm.org/doxygen/group__CINDEX.html#gaaccc432245b4cd9f2d470913f9ef0013)

---
## Ejemplo de Gram치tica de Familang
```
<p> ::= <p> hijo_de <p>
<p> ::= <p> hermano_de <p>
<p> ::= nombre
```
### Frases que cumplen la gram치tica:
- `Bart hijo_de Homero`
- `Bart hijo_de Homero hermano_de Lisa`
- `Morty hijo_de Beth hijo_de Rick`
---
## Derivaciones
Derivar la frase aplicando las reglas de la gram치tica.
Objetivo: `Morty hijo_de Beth hijo_de Rick hermano_de Summer`

|estado|producci칩n|쯖u치l?|
|-|-|-|
|`<p>`|`<p> ::= <p> hijo_de <p>`|1|
|`<p> hijo_de <p>`|`<p> ::= <p> hijo_de <p>`|2|
|`<p> hijo_de <p> hijo_de <p>`|`<p> ::= <p> hermano_de <p>`|3|
|`<p> hijo_de <p> hijo_de <p> hermano_de <p>`|`<p> ::= nombre`|1|
|`nombre hijo_de <p> hijo_de <p> hermano_de <p>`|`<p> ::= nombre`|3|
|`nombre hijo_de <p> hijo_de <p> hermano_de nombre`|`<p> ::= nombre`|2|
|`nombre hijo_de <p> hijo_de nombre hermano_de nombre`|`<p> ::= nombre`|2|
|`nombre hijo_de nombre hijo_de nombre hermano_de nombre`|`<p> ::= nombre`|1|
---
### Ejerc칤cio derivaciones
`Bart hijo_de Homero hermano_de Lisa`
Hagan la derivaci칩n, me la dictan y la escribo ac치 `termdown 5`

|estado|producci칩n|쯖u치l?|
|-|-|-|
|`<p>`|`<p> ::= <p> hijo_de <p>`|1|
|`<p> hijo_de <p>`|`<p> ::= <p> hermano_de <p>`|2|
|`<p> hijo_de <p> hermano_de <p>`|`<p> ::= nombre`|1|
|`nombre hijo_de nombre hermano_de <p>`|`<p> ::= nombre`|1|
|`nombre hijo_de nombre hermano_de nombre`|`<p> ::= nombre`|1|

---
### 츼rbol sint치ctico
`Bart hijo_de Homero hermano_de Lisa`

![1](./files-4/sintactico.png)

---
### 츼rbol de Sintaxis Abstracto
`Bart hijo_de Homero hermano_de Lisa`

![1](./files-4/ast.png)

---

### Ejerc칤cio calculang
```
<expr> ::= <expr> <op> <expr>
<expr> ::= int
<op> ::= +
<op> ::= -
<op> ::= *
```

`1 - 2 + 3 * 4`

Armen los AST m치s tergiversadores que se les ocurran y nos lo muestran
```
termdown 5
```
---

### Derivaci칩n interactiva
Derivemos para llegar a `1 - 2 + 3 * 4`

---
### Arreglando Familang
Tenemos que modificar las reglas de forma que haya un s칩lo AST posible

amb칤gua:
```
<p> ::= <p> hijo_de <p>
<p> ::= <p> hermano_de <p>
<p> ::= nombre
```
no amb칤gua:
```
<p> ::= nombre hijo_de <p>
<p> ::= <p> hermano_de nombre
<p> ::= nombre
```

Ejerc칤cio: arreglar Clalculang `termdown 5`

---
## Gram치tica "limpia" LL(1)
recursiva por izquierda:
```
<p> ::= <p> hermano_de nombre | nombre hijo_de <p> | nombre
```
recursiva por derecha:
```
<p> ::= nombre <p0>
<p0> ::= | hijo_de <p> | hermano_de <p>
```
칩 bien
```
<p> ::= nombre <p0>
<p0> ::= 
<p0> ::= hijo_de <p> 
<p0> ::= hermano_de <p>
```

---

## Derivaciones con gram치ticas limpias
Derivar la frase aplicando las reglas de la gram치tica.
Objetivo: `Morty hijo_de Beth hijo_de Rick hermano_de Summer`
|estado|producci칩n|쯖u치l?|
|-|-|-|
|`<p>`|`<p> ::= nombre <p0>`|1|
|`nombre <p0>`|`<p0> ::= hijo_de <p> `|1|
|`nombre hijo_de <p>`|`<p> ::= nombre <p0>`|1|
|`nombre hijo_de nombre <p0>`|`<p0> ::= hermano_de <p>`|1|
|`nombre hijo_de nombre hermano_de <p>`|`<p> ::= nombre <p0>`|1|
|`nombre hijo_de nombre hermano_de nombre <p0>`|`<p0> ::= `|1|
---

## Ejerc칤cios Wrainfuck
```
1. <expression> ::= ,<expression>
2. <expression> ::= 0
3. <expression> ::= (<expression>,<division>)
4. <expression> ::= [<division>/<division>]
5. <division>   ::= 1/<expression>
6. <division>   ::= n
```
Escriban en una hoja la secuencia de las reglas que aplican y me las cantan. Si encuentran distinto avisan. **Siempre se convierte el de la izquierda.** $S=expression$ `termdown 10`
1. Ejemplo: `,,,,([n/n],1/0)`
1. `,,,[n/n]`
1. `[1/0/n]`
1. `[1/,,,0/n]`
1. `,1/[1/(0,n)/n]`

---

## Parser LL1: apply y match
```
1. <p> ::= nombre <p0>
2. <p0> ::= 
3. <p0> ::= hijo_de <p> 
4. <p0> ::= hermano_de <p>
```
Objetivo: `Morty hijo_de Beth hijo_de Rick hermano_de Summer`

|stack|head| index| action|
|-|-|-|-|
|`$ <p>`|`Morty`| 0| apply 1|
|`$ <p0> nombre`|`Morty`|  0| match 游눤 |
|`$ <p0> `|`hijo_de`| 1 | apply 3 | 
|`$ <p> hijo_de `|`hijo_de`| 1 | match 游눤 |
|`$ <p> `|`Beth`| 2 | apply 1 |
|`$ <p0> nombre `|`Beth`| 2 | match 游눤 |
|`$ <p0> `|`hijo_de`| 3 | apply 3 | 
|`$ <p> hijo_de `|`hijo_de`| 3 | match 游눤 | 
|`$ <p> `|`Rick`| 4 | apply 1 | 
|`$ <p0> nombre  `|`Rick`| 4 | match 游눤 | 
|`$ <p0>  `|`hermano_de`| 5 | apply 4 | 
|`$ <p> hermano_de `|`hermano_de`| 5 | match 游눤 | 
|`$ <p> `|`Summer`| 6 | apply 1 | 
|`$ <p0> nombre `|`Summer`| 6 | match 游눤 | 
|`$ <p0> `|| 7 | apply 2 | 
|`$ `|| 7 | FIN | 
---

---

## Parser LL1: Brainduck
```
1. <duck> ::= 2 <duck>
2. <duck> ::= 춰 <duck> <duck> !
3. <duck> ::=  <penguin> ?
4. <duck> ::= 3
5. <penguin> ::= cuack <duck>
7. <penguin> ::= 1 
8. <penguin> ::= l <penguin> <penguin> 
```
Escriban en una hoja la secuencia de reglas aplicadas 칩 match. Si encuentran distinto avisan. $S=duck$ `termdown 15`
1. Ejemplo: ` l 1 l cuack 3 1?`
1. Ejemplo: ` l 1 1?`
1. Ejemplo: `춰 2 3 3 !`
1. Ejemplo: `2 춰 3  1 ? !`

---

## Explicaci칩n primera mitad lab 2